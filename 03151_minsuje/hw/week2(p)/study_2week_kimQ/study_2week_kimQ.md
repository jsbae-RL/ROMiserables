# 김서희님의 로그인 프로그램

- 작성자 : 제민수(ROKEY 3기생 DR-05131)
- 작성 기간 : 2025-01-22~(진행중)
- 버전 관리 : 1.1 ver
- 0.x 프로그램 작성중
- 1.x 프로그램 1차 작성 완료(프로그램 동작작)
## 📜목차

- [개요](#개요)   
 [작성의 목적](#작성의-목적)  
 [로그인 프로그램 목적](로그인-프로그램-목적)  

- [프로그램](#프로그램)  

- [기타](#기타)

## 개요
 ### 작성의 목적
 - ROKEY 3기 프로그램 진행에서 스터디 그룹에서 코딩 리뷰 및 학습 내용 공유를 위함.
 - 스터디 피드백 내용 정리
   - 추가예정
 - 해당 문서는 ROKEY 3기생 DR-03151제민수가 작성 하였으며, 문서 및 파일은 직접 수정하지 않는다.

 ### 로그인 프로그램 목적
 - 고정된 비밀번호를 check()를 정의하여 틀렸는지 제대로 입력 했는지 판별 한다.
 - 판별된 데이터가 3번이상 틀렸을경우 문자를 출력한다.

 ### 프로그램 수정
 - > 최초 화면에서 로그인, 계정 생성 중 무엇을 할지 입력받는다.
 - > 입력받은 것이 어느 페이즈 인지 확인 후 해당 페이즈로 넘어간다.
 - > 로그인 시 아이디와 비밀번호를 입력받고 판별 한다. 단 계정 당 3번이상 틀렸을시 3회 이상 틀렸습니다. 계정이 잠깁니다.를 띄우고 해당 계정으로 더 이상 로그인 할수 없게 하며 로그인 시도시 로그인이 불가능 합니다 를 띄운다.
 - > 로그인 시 옳은 아이디와 비밀 번호를 입력 하면, 로그인 되었음을 화면에 표시하고 프로그램을 종료한다.
 - > 계정.txt 를 미리 만들고 임의의 아이디와 비밀 번호를 입력 해둔다.
 - > 계정 생성시 아이디와 비밀번호를 입력 받고 아이디 입력 받을 때 이미 존재하는 아이디 일 경우 이미존재한다 알리고 다시 입력 받는다.
 - > 계정 생성시 완성된 아이디와 비밀번호를 입력 받으면 계정.txt에 추가해 주고 바로 로그인 페이즈로 넘어간다.
   - 수정 내용의 설정 : 외주로 로그인 프로그램을 받았으며, 로그인하는 것과 계정 생성 업무를 받았다. 로그인 3회 실패시 인증을 받고 다시 로그인 가능 하게 해달라 하였고 인증파트는 다른 사람이 작업을 진행 하므로 로그인, 계정 생성, 계정 잠금 업무만 진행하고자 한다. (로그인 이후 역시 다른 사람이 하는것.)

## 프로그램

### 프로그램 설명
- 로그인 시에 아이디를 검사하는 함수 check()를 작성해서 테스트하라. 
- check가 한 번 호출 될 때마다 비밀번호를 질문하고 일치여부를 확인한다.
- 비밀번호는 숫자 1234로 고정되어있다고 가정한다.
-  check가 3번 이상 호출되고 아이디가 일치하지 않으면 check()는 "Account has exceed allowed number of login attempts."메시지를 출력한다.
### 변경한 프로그램
- 최초 화면에서 로그인, 계정생성을 선택하고 해당 페이즈로 넘긴다. 
- 계정.txt를 미리 생성 해두며, 해당 txt는 [아이디,비밀번호,올바르지않은 접속시도] 3가지 정보를 가지고 있어야 하며 ,로 구분하고 한 아이디가 입력 되어 있으면 다른 아이디는 다음 줄에 생성 되어 있어야 한다.
- 계정 생성
    - 계정 생성페이즈를 입력 받아 들어오면, 아이디를 우선 입력 받고 해당 아이디가 계정.txt에 이미 존재하는지 확인 후 존재 하면 이미 존재하는 아이디임을 알린다.
    - 아이디를 입력받고 문제가 없으면, 비밀번호를 입력 받고 숫자와 영어 문자로 입력되었는지 확인 하고 아닐시 아이디는 숫자와 영어문자만 입력 되어야 함을 알린다. (영어만 입력 받으면 숫자가 필요하다는 식으로도 알린다. 반대로 숫자만 입력시 영어 문자 필요하다 알리고 대소문자는 구분한다.)
    - 아이디와 비밀번호가 문제가 없을시 txt에 추가하고, 로그인 페이즈로 넘어간다.
- 로그인
    - 로그인 페이즈로 넘어오면 아이디와 비밀번호를 입력 받으며,txt와 비교하여 존재하고 알맞는지 확인 후 틀렸을 시 틀림을 알리고 txt에 바르지 않은 접속 시도 횟수를 올린다 재입력을 받는다.
    -  틀림 횟수가 3번 이상인 계정은 비밀 번호가 맞는 것을 입력 받아도 계정이 잠겼습니다를 표시한다.
    -  로그인 완료시 로그인을 완료 했음을 알리고 txt의 올바르지 않은 접속 시도 카운트를 0으로 바꾼다.
 
 ### 입출력 정리
 #### 입력
 - id, password
 #### 출력
 - 최초 화면, 로그인화면, 계정 생성 화면
 - 계정 생성 관련 str
 - 로그인 관련 str

### 프로그램 구조
 - study_2week_minA.py 에서 tk를 통해 초기 설정만 하고 src파일 내부에 gui 및 txt 파일읽기, account 관리 py 파일을 만들어 main을 간략화 함.
 - gui_screens.py는 GUIScreens 클래스로 구성 되어 있다.
      - 초기화로 GUI입력으로 인해 동작을 할 AccountManager()를 초기화 하여 선언하고 각각의 프레임을 생성 하고, 화면 구성을 한다.
      - 각각의 화면 구성은 setup_화면이름으로 정의한 함수를 사용한다.
          - setup_main_menu 로그인과 계정 생성을 선택 핧수 있는 버튼 선택하라는 txt lable으로 구성하고 각각의 버튼은 loing과 create_account로 이동하도록 command=로 각 함수를 부른다.
          - setup_login_screen은 "아이디:" 아래 "비밀번호:"를 라벨로 나타내고, 각 옆에 Entry를 이용해 아이디와 비밀 번호를 입력 받는데 비밀번호는 '*'로 표시되게 한다. 또한 로그인 버튼과 메인 메뉴로 가는 버튼을 만들고 로그인 버튼은 login함수를 부르고 메인 메뉴로 버튼은 메인메뉴로 switch하는 함수를 부른다.
          - setup_create_account_screen은 login과 같이 아이디와 비밀 번호를 입력 받고 생성을 누르면 create_acount함수를 부르고 메인 메뉴로 버튼은 메인베뉴로switch하는 함수를 부른다.
      - switch_to 함수로각각의 메뉴 프레임으로 변경 하는 함수를 만들며 pack(expand=True)로 중앙 정렬을 한다.
          - hide_all_frames함수를 작성하여 .pack_forget()함수를 활용하여 모두 숨김 상태로 되게 하고, switch_to_함수에서 사용하여 화면이 바뀔때 서로 영향을 주지 않도록 한다.
      - login 화면에 입력된 값을 읽어와 account_manager함수에 입력한다. 나온 결과를 messagebox로 띄운다.
      - create_account화면에 입력된 값을 읽어와 account_manager함수에 입력한다. 나온 결과를 messagebox로 띄운다.
- acoount_manger는 AccountManger 클래스로 구성되어 있다.
  - 초기화에서서 계정에 대한 정보를 읽어옴.
    - load_accounts 함수로 file_reader를 이용하여 데이터 읽어 옴
  - 계정 데이터 파일 저장 Save_accounts 역시 file_reader를 이용하여 새로 생긴 데이터 작성
  - 새로운 계정 생성create_account
    - 아이디, 비밀번호를 입력 받음
    - 아이디 이미존재, 아이디는 숫자와 영어만 입력, 비밀번호는 숫자와 영어가 포함되어야함 을 확인하여 문자열로 반환 만약 모두 만족하고 넘어간다면 accounts 에 추가하고, 3번째 데이터인 failed_attempts를 0으로 입력하고고 계정을 저장하고 계정이 생성됬음을 반환한다.
    - 계정의 데이터 형식은 accounts[username] = {'password':pasword,'failed_attepts':?}이다.(?는 0~3의 숫자임)
  - login 로그인 처리
    - 아이디 존재유무, 계정의 잠김(accounts에 3번째가 failedatteps 3 이상)유무, 비밀번호 일치
      - 비밀번호 비 일치시 3번째 데이터 1추가 한후 저장 하고 비밀번호 틀림 반환
      - 비밀번호 일치시 3번째 데이터 0으로 변경하고 저장 후 로그인 성공 반환
- flie_reader
  - 파일 경로 및 읽고, 쓰기 작성
    - 모두 with를 사용하여 쓰고 바로 닫음
    - read_accounts를 가공하는데 입력 값을 ,로 나누고 데이터의 수가 3개면 데이터 0번은 아이디, 1번은 password, 번은 틀림 횟수로 저장한다.
    - write_accounts는(accounts)데이터를 입력받아 이름,비밀번호,틀림횟수\n의 데이터를 가공하여 저장.
## 기타
- 뭔가 더 이쁘게 계정 생성 및 로그인 관련 데이터 생성및 GUI 꾸미는 것을 할수 있을 거같긴한데.. 다른것 해보고 다되면 수정해서 올려보겠습니다.